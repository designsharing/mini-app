function t(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}c((o=o.apply(t,n||[])).next())}))}function n(t,n){var e,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(e=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,o=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t],o=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}function e(t,n){console.log("[INFO]: ".concat(t),n)}function o(t,n){console.log("[SUCCESS]: ".concat(t),n)}function r(t,n){console.error("[ERROR]: ".concat(t),n)}"function"==typeof SuppressedError&&SuppressedError;var i=function(){function t(t,n){this.channel=t,this.callbacker=n}return t.prototype.post=function(t){e("Bridge post event",t),window[this.channel]?(o("Bridge register channel, current channel is",this.channel),window[this.channel].postMessage(JSON.stringify(t))):window.webkit.messageHandlers[this.channel]?(o("Bridge register channel successful, current channel is",this.channel),window.webkit.messageHandlers[this.channel].postMessage(JSON.stringify(t))):r("Bridge channel ".concat(this.channel," not found"))},t.prototype.listen=function(){this.callbacker.listen()},t}(),a=function(){function t(t,n){this.name=t,this.handler=n}return t.prototype.listen=function(){window[this.name]=this.handler},t}(),u=function(t){this.data=t,this.next=void 0},c=new(function(){function t(){this.head=void 0,this.tail=void 0,this.length=0}return t.prototype.push=function(t){var n=new u(t);this.head?(this.tail.next=n,this.tail=this.tail.next):this.head=this.tail=n,this.length++},t.prototype.pop=function(){var t;if(!this.isEmpty()&&void 0!==this.head){var n=this.head;return null==(null===(t=this.head)||void 0===t?void 0:t.next)?this.head=this.tail=void 0:this.head=this.head.next,this.length--,n}},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.size=function(){return this.length},t.prototype.front=function(){if(!this.isEmpty()&&void 0!==this.head)return this.head},t}()),l="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,f=(l||s||Function("return this")()).Symbol,d=Object.prototype,h=d.hasOwnProperty,p=d.toString,v=f?f.toStringTag:void 0;var g=Object.prototype.toString;var b=f?f.toStringTag:void 0;function m(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?function(t){var n=h.call(t,v),e=t[v];try{t[v]=void 0;var o=!0}catch(t){}var r=p.call(t);return o&&(n?t[v]=e:delete t[v]),r}(t):function(t){return g.call(t)}(t)}function y(t){return null!=t&&"object"==typeof t}var x=Array.isArray,w=f?f.prototype:void 0,S=w?w.toString:void 0;function B(t){if("string"==typeof t)return t;if(x(t))return function(t,n){for(var e=-1,o=null==t?0:t.length,r=Array(o);++e<o;)r[e]=n(t[e],e,t);return r}(t,B)+"";if(function(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==m(t)}(t))return S?S.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function O(t){return null==t?"":B(t)}var N,j,E=(N=Object.getPrototypeOf,j=Object,function(t){return N(j(t))}),A=Function.prototype,L=Object.prototype,I=A.toString,T=L.hasOwnProperty,C=I.call(Object);var H,R=(H={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},function(t){return null==H?void 0:H[t]}),k=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,P=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var U=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var z=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var D="\\ud800-\\udfff",Z="\\u2700-\\u27bf",G="a-z\\xdf-\\xf6\\xf8-\\xff",J="A-Z\\xc0-\\xd6\\xd8-\\xde",q="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F="["+q+"]",M="\\d+",Y="["+Z+"]",_="["+G+"]",$="[^"+D+q+M+Z+G+J+"]",K="(?:\\ud83c[\\udde6-\\uddff]){2}",V="[\\ud800-\\udbff][\\udc00-\\udfff]",W="["+J+"]",Q="(?:"+_+"|"+$+")",X="(?:"+W+"|"+$+")",tt="(?:['’](?:d|ll|m|re|s|t|ve))?",nt="(?:['’](?:D|LL|M|RE|S|T|VE))?",et="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ot="[\\ufe0e\\ufe0f]?",rt=ot+et+("(?:\\u200d(?:"+["[^"+D+"]",K,V].join("|")+")"+ot+et+")*"),it="(?:"+[Y,K,V].join("|")+")"+rt,at=RegExp([W+"?"+_+"+"+tt+"(?="+[F,W,"$"].join("|")+")",X+"+"+nt+"(?="+[F,W+Q,"$"].join("|")+")",W+"?"+Q+"+"+tt,W+"+"+nt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",M,it].join("|"),"g");function ut(t,n,e){return t=O(t),void 0===n?function(t){return z.test(t)}(t)?function(t){return t.match(at)||[]}(t):function(t){return t.match(U)||[]}(t):t.match(n)||[]}var ct=RegExp("['’]","g");var lt,st=(lt=function(t,n,e){return t+(e?"_":"")+n.toLowerCase()},function(t){return function(t,n,e){for(var o=-1,r=null==t?0:t.length;++o<r;)e=n(e,t[o],o,t);return e}(ut(function(t){return(t=O(t))&&t.replace(k,R).replace(P,"")}(t).replace(ct,"")),lt,"")});function ft(t,n){if(function(t){if(!y(t)||"[object Object]"!=m(t))return!1;var n=E(t);if(null===n)return!0;var e=T.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&I.call(e)==C}(t)){for(var e=t,o={},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r],u=a[0],c=a[1];o[n(u)]=ft(c,n)}return o}return x(t)?t.map((function(t){return ft(t,n)})):t}var dt=function(t){return Array.isArray(t)?t.map(dt):t&&"object"==typeof t?Object.fromEntries(Object.entries(t).filter((function(t){return t[0],void 0!==t[1]})).map((function(t){var n=t[0],e=t[1];return[n,dt(e)]}))):t},ht=new i("OpenSdk",new a("onFlutterMessage",(function(t){e("Bridge received message",t);var n=t;try{n=JSON.parse(t)}catch(t){r("Bridge JSON parse error",t)}var o=n.methodName,i=n.methodParam;c.push({name:o,data:i})})));ht.listen();var pt=function(e,o){return t(void 0,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:return[4,(i=200,new Promise((function(t){setTimeout(t,i)})))];case 1:return n.sent(),(t=c.front())&&t.data.name==e?(r=t.data.data,c.pop(),[2,r]):[2,--o]}var i}))}))},vt=function(e,o){return void 0===o&&(o=50),t(void 0,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,pt(e,o)];case 1:return"object"!=typeof(t=n.sent())?[3,2]:[2,t];case 2:return t<=0?[2,null]:[4,vt(e,t)];case 3:return[2,n.sent()]}}))}))},gt=new(function(){function e(){}return e.prototype.getDeviceInfo=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return ht.post({methodName:"onDeviceInfo"}),[4,vt("onDeviceInfo")];case 1:return null!==(t=n.sent())?(o("Bridge onDeviceInfo data successful",t),null==e||e(t)):(r("Bridge onDeviceInfo data fail",t),null==i||i()),[2]}}))}))},e.prototype.closeLoading=function(){ht.post({methodName:"onInitLoading"})},e.prototype.login=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return ht.post({methodName:"onLogin"}),[4,vt("onLogin")];case 1:return null!==(t=n.sent())?(o("Bridge onLogin data successful",t),null==e||e(t)):(r("Bridge onLogin data fail",t),null==i||i()),[2]}}))}))},e.prototype.request=function(e,i,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return function(t){var n={methodName:"onRequest",methodParam:t};ht.post(n)}(e),[4,vt("onRequest")];case 1:return null!==(t=n.sent())?(o("Bridge onRequest data successful",t),null==i||i(t)):(r("Bridge onLogin data fail",t),null==a||a()),[2]}}))}))},e.prototype.getLocation=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return ht.post({methodName:"onGetLocation"}),[4,vt("onGetLocation")];case 1:return null!==(t=n.sent())?(o("Bridge onGetLocation data successful",t),null==e||e(t)):(r("Bridge onGetLocation data fail",t),null==i||i()),[2]}}))}))},e.prototype.openCashier=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return function(t){var n,e={methodName:"onCashierSheet",methodParam:(n=t,ft(n,(function(t){return st(t)})))};ht.post(e)}(e),[2]}))}))},e.prototype.sharedLink=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return function(t){var n={methodName:"onSharedLink",methodParam:dt(t)};ht.post(n)}(e),[2]}))}))},e.prototype.setNavigationBarTitle=function(e,i,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return function(t){var n={methodName:"onSetNavigationBarTitle",methodParam:t};ht.post(n)}(e),[4,vt("onSetNavigationBarTitle")];case 1:return null!==(t=n.sent())?(o("Bridge onSetNavigationBarTitle data successful",t),null==i||i()):(r("Bridge onSetNavigationBarTitle data fail",t),null==a||a()),[2]}}))}))},e.prototype.setNavigationBarColor=function(e,i,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return function(t){var n={methodName:"onSetNavigationBarColor",methodParam:t};ht.post(n)}(e),[4,vt("onSetNavigationBarColor")];case 1:return null!==(t=n.sent())?(o("Bridge onSetNavigationBarColor data successful",t),null==i||i()):(r("Bridge onSetNavigationBarColor data fail",t),null==a||a()),[2]}}))}))},e.prototype.hideHomeButton=function(e,i,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return function(t){var n={methodName:"onHideHomeButton",methodParam:t};ht.post(n)}(e),[4,vt("onHideHomeButton")];case 1:return null!==(t=n.sent())?(o("Bridge onHideHomeButton data successful",t),null==i||i()):(r("Bridge onHideHomeButton data fail",t),null==a||a()),[2]}}))}))},e.prototype.enableShare=function(e,i,a){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return function(t){var n={methodName:"onEnableShare",methodParam:t};ht.post(n)}(e),[4,vt("onEnableShare")];case 1:return null!==(t=n.sent())?(o("Bridge onEnableShare data successful",t),null==i||i()):(r("Bridge onEnableShare data fail",t),null==a||a()),[2]}}))}))},e}());window.chat=gt;
